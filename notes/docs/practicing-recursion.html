<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="canonical" href="https://notes.eatonphil.com/practicing-recursion.html">
    <title>How to get better at recursion | notes.eatonphil.com</title>
    <meta name="description" content="How to get better at recursion" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" href="/rss.xml" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono">

    <script async onload="loadGA()" src="https://www.googletagmanager.com/gtag/js?id=UA-58109156-2"></script>
    <script>
      function loadGA() {
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'UA-58109156-2');
      }
    </script>
    <script defer src="https://cdn.usefathom.com/script.js" data-site="CEPUOLOQ"></script>
  </head>
  <body>
    <header>
      <div class="lfw">
	<div class="container">
	  <div class="row">
	    <a href="https://eatonphil.com/2025-holiday-fundraiser.html">2025 Holiday Fundraiser</a>
	  </div>
	</div>
      </div>
      <div class="container">
        <div>
          <div class="row">
	    <div>
	      <a href="https://eatonphil.com" class="sm-link">
		Home
              </a>
	      <a href="/" class="sm-link">
		Blog
              </a>
	      <a href="/rss.xml" class="sm-link">
		RSS
              </a>
	    </div>

	    <div class="subscribe">
	      <!-- <a href="https://eatonphil.com/hire-me.html">Hire me</a> -->
	      <!--
		  Hardcode link to home page because some pages don't
		  have a subscribe box. Some pages hide the subscribe.
		-->
	      <a href="https://eatonphil.com/subscribe.html">
		Subscribe
	      </a>
            </div>
	  </div>
	  <hr />
	  <div class="">
            <h2>March 7, 2021</h2>
            <h1>How to get better at recursion</h1>
	    
            <div class="row" style="padding-bottom: 5px">
              <div class="tags"><a href="/tags/functional-programming.html" class="tag">functional-programming</a><a href="/tags/recursion.html" class="tag">recursion</a><a href="/tags/learning.html" class="tag">learning</a></div>
            </div>
	  </div>
	</div>
      </div>
    </header>
    <div class="container">
      <div class="col-6">
	<div class="post">
          <p>tldr; reimplement standard library functions in your favorite
language <em>without loops</em>.</p>
<h3 id="background">Background</h3><p>For a few years after college I spent a lot of free time doing
projects in Standard ML and Scheme. As a result I got really
comfortable doing recursion. The two big reasons for this are 1)
neither Standard ML or Scheme have loops and 2) they both have very
small standard libraries. (Ok, they have loops. They're just so
limited as to be useless.)</p>
<p>I ended up building <a href="https://github.com/eatonphil/ponyo">a standard
library</a> for Standard ML including
string functions (contains, indexOf, count, replace, etc.), an HTTP
server and client, a hash table, a binary search tree, parts of a
Standard ML parser, and <a href="https://ponyo.org/reference">so on</a>.</p>
<p>All of this without loops.</p>
<h3 id="strategy">Strategy</h3><p>The good news (if you don't want to learn a new language) is that you
don't have to take up Standard ML or Scheme to get better at
recursion. But you do need to dedicate some time to <em>practicing
recursion</em> to get better at it.</p>
<p>My recommendation would be to pick 10-20 string or array functions out
of your favorite language's standard library and reimplement them
without loops. (Obviously, start simple and just pick one. But
don't stop there.)</p>
<h3 id="some-examples">Some examples</h3><p>Here's an example reimplementation of <code>indexOf</code> in
JavaScript:</p>
<div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">input</span><span class="p">,</span><span class="w"> </span><span class="nx">toMatch</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">helper</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="p">,</span><span class="w"> </span><span class="nx">test</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">toMatch</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">test</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">index</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">input</span><span class="p">[</span><span class="nx">index</span><span class="o">+</span><span class="nx">offset</span><span class="p">]</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">toMatch</span><span class="p">[</span><span class="nx">offset</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">test</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">toMatch</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">helper</span><span class="p">(</span><span class="nx">index</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">helper</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">offset</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">test</span><span class="o">+</span><span class="nx">input</span><span class="p">[</span><span class="nx">index</span><span class="o">+</span><span class="nx">offset</span><span class="p">]);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">helper</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>Or here's an example immutable reimplementation of <code>insert</code>
in Python:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">currentIndex</span><span class="p">,</span> <span class="n">accum</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">currentIndex</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">accum</span>

    <span class="k">if</span> <span class="n">currentIndex</span> <span class="o">&lt;</span> <span class="n">index</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">currentIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">arr</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">]])</span>

    <span class="k">if</span> <span class="n">currentIndex</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">currentIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">,</span> <span class="n">arr</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">currentIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">accum</span> <span class="o">+</span> <span class="p">[</span><span class="n">arr</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">]])</span>

  <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[])</span>
</pre></div>
<p class="note">
  You're going to find an edge case and that's alright. The
  important part at the moment is practicing recursion.
</p><p>For bonus points, avoid all mutation in your implementations and use
only tail recursion.</p>
<p>Happy recursion!</p>
<p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Reimplementing standard library functions without for loops is a great way to get better at recursion and you don&#39;t need to use a functional programming language to do so<a href="https://t.co/JiPnXMQW3l">https://t.co/JiPnXMQW3l</a> <a href="https://t.co/MHwX5t70HT">pic.twitter.com/MHwX5t70HT</a></p>&mdash; Phil Eaton (@phil_eaton) <a href="https://twitter.com/phil_eaton/status/1368602496168497154?ref_src=twsrc%5Etfw">March 7, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
<style>.feedback{display:initial;}</style>
	</div>
	<div class="feedback">
	  <h4>Feedback</h4>
	  <p>As always,
	      please <a href="mailto:phil@eatonphil.com">email</a>
	      or <a href="https://twitter.com/eatonphil">tweet me</a>
	      with questions, corrections, or ideas!</p>

	</div>
      </div>
    </div>
    <footer>
      <div class="container">
	<div>
	  <div id="subscribe">
	    <iframe frameBorder="0" src="https://cdn.forms-content-1.sg-form.com/e8ed4c3b-dd46-11f0-b6e6-ce075f2c5f80"/>

	  </div>
	</div>
      </div>
    </footer>
  </body>
</html>
